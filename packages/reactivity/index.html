<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=0,viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <div id="app">

    </div>
</body>
<script>

</script>
<script>
    let data = { name: 'gzy' }
    let obj = new Proxy(
        data, {
        get(target, key) {
            console.log('触发get')
            // 代理obj.key取值的函数
            return target[key]
        },
        set(target, key, val) {
            // obj.xx = val 修改的时候触发set函数 
            console.log('触发set')
            target[key] = val
            render()
        }
    }
    )
    function render(arguments) {
        // body
        document.querySelector('#app').innerHTML = '你好呀' + obj.name
    }
    render()
    setTimeout(() => {
        obj.name = '学习源码'
    }, timeout = 2000);
    // let obj = {
    //     name: 'gzy'
    // }
    // function render(arguments) {
    //     // body
    // }
    // render()
    // render() // 数据变化重新渲染

    // 目的实现下面的代码
    // let obj2 = reactive({
    //     name: 'gzy'
    // })
    // effect(() => {
    //     document.querySelector('#app').innerHTML = '你好呀' + obj.name
    // })
    // obj2.name = '学习源码'
// 只要obj.name变化，自动更新页面
</script>

</html>